/* ========== Полный style.css ========== */
/* Переменные */
:root{
  --accent-1: #6f5bd8;
  --accent-2: #9b8df8;
  --accent-contrast: #ffffff;
  --bg: #fbfbfd;
  --muted: #6b6b6b;
  --card-bg: #ffffff;
  --gap: 12px;
}

/* Сброс / базовое */
* { box-sizing: border-box; }
html,body { height:100%; margin:0; background:var(--bg); color:#222; font-family: 'Comfortaa', sans-serif; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
a { color: inherit; text-decoration: none; }

/* ===== Header ===== */
.site-header {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  padding: 12px 18px;
  background: linear-gradient(90deg, var(--accent-1), var(--accent-2));
  color: var(--accent-contrast);
  box-shadow: 0 8px 24px rgba(16,24,40,0.06);
}
.logo-wrap { display:flex; align-items:center; gap:12px; text-decoration:none; color:inherit; }
.logo { width:48px; height:48px; object-fit:cover; border-radius:8px; }
.site-title { font-weight:700; font-size:1.05rem; text-shadow: 0 2px 6px rgba(0,0,0,0.18); }
.top-nav { display:flex; gap:10px; align-items:center; }
.top-nav .nav-link { color: var(--accent-contrast); padding:6px 8px; border-radius:6px; }
.top-nav .nav-link.active { background: rgba(255,255,255,0.08); }

/* ===== Layout container ===== */
.container { max-width:1200px; margin:18px auto; padding:0 16px; }

/* Group title (с отступом слева, чтобы не «плавал») */
.group { margin:18px 0; }
.group-title { margin-left:6px; margin-bottom:10px; font-weight:700; color:var(--accent-1); }

/* ===== Gallery (квадраты) ===== */
/* Минимальная ширина карточки уменьшена, чтобы помещалось больше превью на ПК */
.gallery {
  display: grid;
  gap: var(--gap);
  align-items: start;
  grid-auto-rows: 1fr;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); /* небольшие квадраты */
}

/* На широких экранах чуть больше */
@media (min-width:1400px) {
  .gallery { grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); }
}
@media (min-width:1800px) {
  .gallery { grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }
}

/* Превью — квадратные, одинаковые на всех устройствах */
.gallery img,
.gallery-item {
  width:100%;
  aspect-ratio: 1 / 1; /* гарантирует квадрат */
  object-fit: cover;
  border-radius:10px;
  cursor: pointer;
  box-shadow: 0 6px 18px rgba(16,24,40,0.06);
  transition: transform .14s ease, box-shadow .14s ease;
}
.gallery img:hover, .gallery-item:hover {
  transform: translateY(-6px);
  box-shadow: 0 12px 30px rgba(16,24,40,0.12);
}

/* ===== Modal ===== */
/* скрываем по умолчанию, показывается .show */
.modal { 
  position: fixed; inset: 0; display: none; align-items: center; justify-content: center;
  background: rgba(0,0,0,0.72); z-index: 2200; padding: 18px;
}
.modal.show { display: flex; }

/* панель внутри модалки — single-column (картинка + лента + инфо) */
.modal-panel {
  background: var(--card-bg);
  width: 100%;
  max-width: 860px;
  max-height: 90vh;
  overflow: auto;
  border-radius: 12px;
  padding: 16px;
  position: relative;
  box-shadow: 0 20px 50px rgba(16,24,40,0.18);
  display: flex;
  flex-direction: column;
  gap: 12px;
  align-items: center;
}

/* большая картинка — центрирована, не выходит за экран (по высоте) */
#modal-img {
  width: 100%;
  max-height: 60vh;
  object-fit: contain;
  border-radius: 8px;
  background: #f7f7f7;
}

/* лента миниатюр под фото — горизонтальная, scrollable на узких экранах */
#color-buttons {
  display: flex;
  gap: 8px;
  justify-content: center;
  align-items: center;
  margin-top: 8px;
  padding-bottom: 4px;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* прячем «мусорные» полозья скролла в Webkit, оставляем нативный скролл */
#color-buttons::-webkit-scrollbar { height: 8px; }
#color-buttons::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.12); border-radius: 6px; }

/* миниатюры — 64px квадраты */
#color-buttons img,
#color-buttons .thumb-item {
  width: 64px;
  height: 64px;
  object-fit: cover;
  border-radius: 6px;
  cursor: pointer;
  border: 2px solid transparent;
  flex: 0 0 auto;
}

/* активная миниатюра — обводка акцентом */
#color-buttons img.active,
#color-buttons .thumb-item.active {
  border-color: var(--accent-1);
}

/* hover миниатюры */
#color-buttons img:hover,
#color-buttons .thumb-item:hover {
  border-color: rgba(0,0,0,0.12);
}

/* описание и кнопки */
#description {
  width: 100%;
  color: #222;
  text-align: left;
  max-width: 760px;
  margin-top: 6px;
}

/* Ozon button */
#ozon-link {
  display: inline-block;
  margin-top: 8px;
  padding: 8px 12px;
  border-radius: 8px;
  background: var(--accent-1);
  color: #fff;
  text-decoration: none;
}
#ozon-link.hidden { display: none; }

/* Контакты в модалке */
.modal-contacts {
  width: 100%;
  display:flex;
  flex-direction: column;
  gap: 8px;
  align-items: flex-start;
  color: var(--muted);
  max-width: 760px;
}
.modal-contacts .copy-row { display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
.modal-contacts input { padding: 6px; border-radius:6px; border:1px solid #e6e6e6; }

/* close button */
.modal-close {
  position: absolute;
  right: 14px;
  top: 14px;
  border: none;
  background: transparent;
  font-size: 20px;
  cursor: pointer;
  color: #666;
}

/* ===== Footer ===== */
.site-footer {
  background: #fafafa;
  padding: 14px;
  text-align: center;
  color: var(--muted);
  font-size: 14px;
  border-top: 1px solid #eee;
}

/* ===== Mobile / Desktop menu rules ===== */
/* mobile: hide top-nav, show bottom-nav */
@media (max-width: 1024px) {
  .top-nav { display: none !important; }
  .bottom-nav { display: flex !important; position: fixed; left:0; right:0; bottom:0; justify-content: space-around; background: #fff; padding:6px 8px; border-top:1px solid #eee; z-index:2100; }
  body { padding-bottom: 78px; } /* место для bottom-nav */
  /* modal image smaller on phone */
  #modal-img { max-height: 44vh; }
}

/* desktop: hide bottom-nav */
@media (min-width: 1025px) {
  .bottom-nav { display: none !important; }
  body { padding-bottom: 0; }
}

/* Accessibility focus */
:focus { outline: 2px dashed rgba(125,95,182,0.18); outline-offset: 2px; }
